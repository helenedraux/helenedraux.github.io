<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Tips using Jupyter to publish on a blog | Data science w/ a geo bias
</title>
  <link rel="canonical" href="https://helenedraux.github.io/posts/tips-using-jupyter-to-publish-on-a-blog.html">

  <link rel="alternate" type="application/atom+xml" href="https://helenedraux.github.io/feeds/all.atom.xml" title="Full Atom Feed">
  <link rel="alternate" type="application/atom+xml" href="https://helenedraux.github.io/feeds/coding.atom.xml" title="Categories Atom Feed">

  <link rel="apple-touch-icon" href="https://helenedraux.github.io/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://helenedraux.github.io/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://helenedraux.github.io/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="https://helenedraux.github.io/manifest.json">
  <meta name="theme-color" content="#333333">

  <link rel="stylesheet" href="https://helenedraux.github.io/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://helenedraux.github.io/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://helenedraux.github.io/theme/css/pygments/lovelace.min.css">
  <link rel="stylesheet" href="https://helenedraux.github.io/theme/css/style.css">

  <link href="https://fonts.googleapis.com/css?family=Sansita+One" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">


<meta name="description" content="A short list of things I learned while making this blog: improving the display of notebook with some CSS hack, a markdown trick and some bokeh suggestions.">
<script src="https://helenedraux.github.io/theme/js/jquery-1.12.4.min.js"></script>
<script src="https://helenedraux.github.io/theme/js/bokeh-0.12.3.min.js"></script>
<script src="https://helenedraux.github.io/theme/js/custom.js"></script>
<script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o);
    a.async = 1;
    a.src = g;
    m = s.getElementsByTagName(o)[0];
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-90338324-1', 'auto');
  ga('send', 'pageview');
</script>
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <div class="col-sm-2">
          <a href="https://helenedraux.github.io">
            <img class="img-fluid" src=https://helenedraux.github.io/images/compass2.png width=100 height=100 alt="Data science w/ a geo bias">
          </a>
        </div>
        <div class="col-sm-10">
          <h1 class="title"><a href="https://helenedraux.github.io">Data science w/ a geo bias</a></h1>
          <div id="header_subtitle">
            <h4 class="text-muted">Hélène Draux</h4>
          </div>
          <div id="header_links">
            <ul class="list-inline">
              <li class="list-inline-item"><a href="https://helenedraux.github.io">home</a> \ </li>
              <li class="list-inline-item"><a href="https://helenedraux.github.io/pages/about.html">About</a> \ </li>
              <li class="list-inline-item"><a href="https://helenedraux.github.io/pages/contact.html">Contact</a> \ </li>

              <li class="list-inline-item"><a href="http://www.helenedraux.net/" target="_blank">www</a></li>

              <li class=" list-inline-item text-muted"> | </li>
              <li class="list-inline-item"><a class="fa fa-github" href="https://github.com/helenedraux" target="_blank"></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
    <div class="article_title">
      <h1>Tips using Jupyter to publish on a blog
</h1></div>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2017-01-19T07:53:00+02:00">
        <i class="fa fa-clock-o"></i>
        19 January 2017
      </li>
      <li class="list-inline-item">
        <i class="fa fa-folder-open-o"></i>
        <a href="https://helenedraux.github.io/category/coding.html">coding</a>
      </li>
      <li class="list-inline-item">
        <i class="fa fa-files-o"></i>
        <a href="https://helenedraux.github.io/tag/jupyter.html">#jupyter</a>,         <a href="https://helenedraux.github.io/tag/notebook.html">#notebook</a>,         <a href="https://helenedraux.github.io/tag/python.html">#python</a>,         <a href="https://helenedraux.github.io/tag/css.html">#css</a>      </li>
    </ul>
  </header>
  <hr>
  <div class="content">
    <div class="row">
      <!-- https://afeld.github.io/bootstrap-toc/:sidebar, which will move to the top on a small screen -->
      <!--div class="col-sm-3">
        <nav id="toc" data-spy="affix" data-toggle="toc"></nav>
      </div>
      <div class="col-sm-9"-->
        <p>Jupyter Notebook are very easy to integrate in pelican. I modified it a bit so it's easier to read. I already blogged about the button 'Reveal Code', which creates a button for each code cell, and hides all the code cells. Here is a list of the other small modifications I made.</p>
<h2>Hide the empty input cells</h2>
<p>Jupyter Notebooks are made of two columns: one for the input number (In [X]) and the code/text column. When seeing the Notebook on a blog, it's not so relevant. On my configuration, it was still showing, so I added: </p>
<div class="highlight"><pre><span></span><span class="nt">div</span><span class="nc">.input_prompt</span><span class="p">{</span>
  <span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">div</span><span class="nc">.prompt</span><span class="nd">:empty</span><span class="p">{</span>
  <span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h2>Improve the print function</h2>
<p>Markdown cannot be used in the print function. I found someone suggesting the following function to put at the start of your Notebook. Neat!</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">display</span>
<span class="k">def</span> <span class="nf">printmd</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
</pre></div>
<h2>Using Bokeh</h2>
<h3>Show the plots in the Notebook</h3>
<p>Bokeh is sooo much better than matplotlib, especially if you use pandas. To use it in the notebook, you should use the <code>output_notebook()</code> function. So add at the start of your Notebook:</p>
<div class="highlight"><pre><span></span><span class="c1"># To plot bars and scatter plot</span>
<span class="kn">from</span> <span class="nn">bokeh.charts</span> <span class="kn">import</span> <span class="n">Bar</span><span class="p">,</span> <span class="n">Scatter</span><span class="p">,</span> <span class="n">output_file</span><span class="p">,</span> <span class="n">show</span>
<span class="c1"># To plot in the notebook</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span><span class="p">,</span> <span class="n">push_notebook</span>
<span class="c1"># To use the option "sort = False" in the labels: CatAttr(columns=['word'], sort=False)</span>
<span class="kn">from</span> <span class="nn">bokeh.charts.attributes</span> <span class="kn">import</span> <span class="n">CatAttr</span>
<span class="c1"># To plot simple figures</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">output_file</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">ColumnDataSource</span>
<span class="c1"># To get the hover function</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">HoverTool</span>
<span class="c1"># To have subplots</span>
<span class="kn">from</span> <span class="nn">bokeh.layouts</span> <span class="kn">import</span> <span class="n">gridplot</span>
<span class="c1"># To modify the scale used in a plot (interesting for sublots). Use: plot.y_range = Range1d(min,max)</span>
<span class="kn">from</span> <span class="nn">bokeh.models.ranges</span> <span class="kn">import</span> <span class="n">Range1d</span>
<span class="c1"># To get the plots in the notebook</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
<h3>Hide "Bokeh Notebook handle for In[]"</h3>
<p>The Bokeh plots are not shown in the result cell, instead it shows: </p>
<p><code>&lt;Bokeh Notebook handle for In[n]&gt;</code> </p>
<p>which is not only ugly/useless, but also doesn't render properly in pelican. To remove it, and since it's the only thing that appears in the result cell, <a href="https://github.com/bokeh/bokeh/issues/4697">someone suggested</a> to add a semicolon after the <code>show()</code> function: </p>
<p><code>show(bar,notebook_handle=True);</code>.</p>
<p>It's also possible to hide the logo, but although I find it a bit childish with all these colors, I think it's good to show where the graphs come from. Besides, it also indicates when the library has been loaded, which is user friendly for people with slow connections.</p>
<h2>Et voilà!</h2>
<p>It's easy to make your Jupyter Notebook easy to navigate, so go on and do some storytelling with data!</p>
      <!--/div-->    
  </div>
</article>
<hr>
<div id="disqus_thread"></div>
<script>
  var disqus_config = function() {
    this.page.url = 'https://helenedraux.github.io/posts/tips-using-jupyter-to-publish-on-a-blog.html';
    this.page.identifier = 'tips-using-jupyter-to-publish-on-a-blog';
  };
  (function() {
    var d = document;
    var s = d.createElement('script');
    s.src = '//helenedraux-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript class="text-muted">
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<!-- https://codepen.io/ncerminara/pen/gpVXxz -->
      <div class="relatedposts">
          <h1><small>Related posts</small></h1>
          <div class="card-deck-wrapper">
              <div class="row">
                <ul class="post-list">
                    <li>
                      <div class="col-sm-4 card-wrapper">
                          <div class="card related-art">
                            <a href="https://helenedraux.github.io/posts/reveal-code-on-jupyter-notebook.html">
                            <div class="image relatedimage">
                              <img class="card-img-top img-responsive img-feat-rel" src="/images/revealcode.png">
                            </div>
                            </a>
                            <div class="card-block">
                                <h4 class="card-title"><a href="https://helenedraux.github.io/posts/reveal-code-on-jupyter-notebook.html">"Reveal Code" button on Jupyter</a></h4>
                                <p class="card-text"></p>
                            </div>
                            <div class="footer-rel">
                              <div class="footer-text">
                                  <p class="card-text">
                                      <small class="text-muted">
                                          <a href="https://helenedraux.github.io/tag/pelican.html" class="taglink">#pelican</a>
                                           <a href="https://helenedraux.github.io/tag/jupyter.html" class="taglink">#jupyter</a>
                                           <a href="https://helenedraux.github.io/tag/javascript.html" class="taglink">#javascript</a>
                                  </small>
                                  </p>
                                </div>
                              </div>
                          </div>
                      </div>
                    </li>
                    <li>
                      <div class="col-sm-4 card-wrapper">
                          <div class="card related-art">
                            <a href="https://helenedraux.github.io/posts/NLP analysis.html">
                            <div class="image relatedimage">
                              <img class="card-img-top img-responsive img-feat-rel" src="/images/facebook.png">
                            </div>
                            </a>
                            <div class="card-block">
                                <h4 class="card-title"><a href="https://helenedraux.github.io/posts/NLP analysis.html">NLP of a Facebook Page</a></h4>
                                <p class="card-text">Analysis of Parkinson's UK Facebook Page using pandas, NLTK, and Bokeh.</p>
                            </div>
                            <div class="footer-rel">
                              <div class="footer-text">
                                  <p class="card-text">
                                      <small class="text-muted">
                                          <a href="https://helenedraux.github.io/tag/python.html" class="taglink">#python</a>
                                           <a href="https://helenedraux.github.io/tag/facebook.html" class="taglink">#facebook</a>
                                           <a href="https://helenedraux.github.io/tag/analysis.html" class="taglink">#analysis</a>
                                           <a href="https://helenedraux.github.io/tag/pandas.html" class="taglink">#pandas</a>
                                           <a href="https://helenedraux.github.io/tag/nltk.html" class="taglink">#NLTK</a>
                                           <a href="https://helenedraux.github.io/tag/bokeh.html" class="taglink">#Bokeh</a>
                                  </small>
                                  </p>
                                </div>
                              </div>
                          </div>
                      </div>
                    </li>
                    <li>
                      <div class="col-sm-4 card-wrapper">
                          <div class="card related-art">
                            <a href="https://helenedraux.github.io/posts/import-from-the-__future__.html">
                            <div class="image relatedimage">
                              <img class="card-img-top img-responsive img-feat-rel" src="/images/fromfutureimportdivision.png">
                            </div>
                            </a>
                            <div class="card-block">
                                <h4 class="card-title"><a href="https://helenedraux.github.io/posts/import-from-the-__future__.html">import from the __future__</a></h4>
                                <p class="card-text"></p>
                            </div>
                            <div class="footer-rel">
                              <div class="footer-text">
                                  <p class="card-text">
                                      <small class="text-muted">
                                          <a href="https://helenedraux.github.io/tag/python.html" class="taglink">#python</a>
                                  </small>
                                  </p>
                                </div>
                              </div>
                          </div>
                      </div>
                    </li>
                    <li>
                      <div class="col-sm-4 card-wrapper">
                          <div class="card related-art">
                            <a href="https://helenedraux.github.io/posts/tkinter-in-mac.html">
                            <div class="image relatedimage">
                              <img class="card-img-top img-responsive img-feat-rel" src="/images/TclError.png">
                            </div>
                            </a>
                            <div class="card-block">
                                <h4 class="card-title"><a href="https://helenedraux.github.io/posts/tkinter-in-mac.html">Tkinter in Mac</a></h4>
                                <p class="card-text"></p>
                            </div>
                            <div class="footer-rel">
                              <div class="footer-text">
                                  <p class="card-text">
                                      <small class="text-muted">
                                          <a href="https://helenedraux.github.io/tag/python.html" class="taglink">#python</a>
                                           <a href="https://helenedraux.github.io/tag/matplotlib.html" class="taglink">#matplotlib</a>
                                           <a href="https://helenedraux.github.io/tag/udacity.html" class="taglink">#udacity</a>
                                  </small>
                                  </p>
                                </div>
                              </div>
                          </div>
                      </div>
                    </li>
                </ul>
              </div>
          </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
        <p class="col-sm-12 text-sm-right text-muted" id="themeauthor">
          Built w/ <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a> / inspired by <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
        </p>
      </div>
    </div>
  </footer>
</body>

</html>